@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Safe areas */
    --sat: env(safe-area-inset-top);
    --sab: env(safe-area-inset-bottom);
    --sal: env(safe-area-inset-left);
    --sar: env(safe-area-inset-right);
    
    /* Tab bar */
    --tab-bar-height: calc(49px + var(--sab));
    
    /* ═══════════════════════════════════════════════════════════
       PALETA: WARM HOME — Coral Cálido
       Cercano, hogar, pareja, calidez
       ═══════════════════════════════════════════════════════════ */
    
    /* Primary - Coral naranja (ajustado para contraste WCAG AA) */
    --primary: #EA580C;           /* 4.5:1 en blanco ✓ */
    --primary-light: #F97316;     /* Para fondos, hovers */
    --primary-dark: #C2410C;      /* Para texto sobre primary */
    
    /* Semantic - Acciones con significado */
    --positive: #22C55E;      /* Ingresos, éxito, confirmaciones */
    --positive-light: #4ADE80;
    --negative: #DC2626;      /* Gastos, errores, eliminaciones */
    --negative-light: #F87171;
    --warning: #EAB308;       /* Alertas, atención */
    --warning-light: #FDE047;
    
    /* Surfaces - Light mode */
    --background: #FFFBEB;    /* Fondo crema suave */
    --surface: #FFFFFF;       /* Cards, modales */
    --surface-elevated: #FFFFFF;
    
    /* Text */
    --text-primary: #292524;  /* Stone 800 */
    --text-secondary: #78716C; /* Stone 500 */
    --text-muted: #A8A29E;    /* Stone 400 */
    --text-inverse: #FFFFFF;
    
    /* Borders & Separators */
    --border: #E7E5E4;        /* Stone 200 */
    --border-focused: #F97316;
    --separator: #D6D3D1;     /* Stone 300 */
    
    /* Legacy aliases (para compatibilidad) */
    --accent: var(--primary);
    --accent-light: var(--primary-light);
  }
  
  @media (prefers-color-scheme: dark) {
    :root {
      /* Surfaces - Dark mode */
      --background: #1C1917;    /* Stone 900 */
      --surface: #292524;       /* Stone 800 */
      --surface-elevated: #44403C; /* Stone 700 */
      
      /* Primary - Más brillante en dark para contraste */
      --primary: #FB923C;         /* Más claro en dark */
      --primary-light: #FDBA74;
      --primary-dark: #F97316;
      
      /* Text */
      --text-primary: #FAFAF9;  /* Stone 50 */
      --text-secondary: #A8A29E; /* Stone 400 */
      --text-muted: #78716C;    /* Stone 500 */
      
      /* Borders */
      --border: #44403C;        /* Stone 700 */
      --separator: #57534E;     /* Stone 600 */
      
      /* Semantic - Ajustados para dark */
      --positive: #4ADE80;
      --positive-light: #86EFAC;
      --negative: #F87171;
      --negative-light: #FCA5A5;
      --warning: #FDE047;
      --warning-light: #FEF08A;
      
      /* Legacy aliases */
      --accent: var(--primary);
      --accent-light: var(--primary-light);
    }
  }
  
  html {
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
  }
  
  body {
    background-color: var(--background);
    color: var(--text-primary);
    overscroll-behavior-y: none;
    padding-bottom: var(--tab-bar-height);
  }
  
  /* Prevent iOS zoom on focus */
  input, select, textarea {
    font-size: 16px !important;
  }
  
  /* Disable highlight on tap */
  * {
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Selection prevention on interactive elements */
  button, a, [role="button"] {
    -webkit-user-select: none;
    user-select: none;
  }
}

@layer components {
  .card {
    @apply bg-surface rounded-xl p-4 shadow-sm;
  }
  
  .btn-primary {
    @apply bg-primary text-white font-semibold py-3 px-6 rounded-xl 
           active:opacity-80 transition-opacity min-h-[50px];
  }
  
  .btn-secondary {
    @apply bg-surface text-primary font-semibold py-3 px-6 rounded-xl 
           border border-primary active:opacity-80 transition-opacity min-h-[50px];
  }
  
  .input {
    @apply bg-surface text-[var(--text-primary)] rounded-xl px-4 py-3 
           min-h-[44px] w-full border border-[var(--border)]
           focus:outline-none focus:border-primary;
  }
  
  .separator {
    @apply h-px bg-[var(--separator)] mx-4;
  }
  
  /* Typography utilities */
  .text-display-lg { @apply text-[34px] font-bold leading-tight; }
  .text-display-md { @apply text-[28px] font-bold leading-tight; }
  .text-display-sm { @apply text-[24px] font-semibold leading-tight; }
  
  .text-headline-lg { @apply text-[22px] font-semibold leading-snug; }
  .text-headline-md { @apply text-[20px] font-semibold leading-snug; }
  .text-headline-sm { @apply text-[17px] font-semibold leading-snug; }
  
  .text-body-lg { @apply text-[17px] font-normal leading-relaxed; }
  .text-body-md { @apply text-[15px] font-normal leading-relaxed; }
  .text-body-sm { @apply text-[13px] font-normal leading-normal; }
  
  .text-label-lg { @apply text-[15px] font-medium leading-snug; }
  .text-label-md { @apply text-[13px] font-medium leading-snug; }
  .text-label-sm { @apply text-[11px] font-medium leading-tight tracking-wide; }
}
