@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Safe areas */
    --sat: env(safe-area-inset-top);
    --sab: env(safe-area-inset-bottom);
    --sal: env(safe-area-inset-left);
    --sar: env(safe-area-inset-right);

    /* Tab bar flotante: 56px alto + 16px margen inferior + 8px padding */
    --tab-bar-height: calc(80px + var(--sab));

    /* ═══════════════════════════════════════════════════════════
       PALETA: NEUMORPHIC PASTEL
       Suave, calido, tridimensional
       ═══════════════════════════════════════════════════════════ */

    /* Fondo - Beige calido (base para neumorfismo) */
    --background: #F0EBE3;
    --background-dark: #E2DDD5;
    --background-light: #FAF8F5;

    /* Primary - Rosa Melocoton (contraste mejorado)
       Base ~4.0:1 contra fondo | Dark ~6.5:1 */
    --primary: #C0796B;
    --primary-light: #E8A598;
    --primary-dark: #A05A4C;

    /* Secondary - Verde Salvia (contraste mejorado)
       Base ~3.6:1 contra fondo | Dark ~5.5:1 */
    --secondary: #6E9E6E;
    --secondary-light: #A8C5A8;
    --secondary-dark: #4E7E4E;

    /* Accent - Azul Cielo (contraste mejorado)
       Base ~3.5:1 contra fondo | Dark ~5.5:1 */
    --accent: #6E98A8;
    --accent-light: #A8C5D4;
    --accent-dark: #4E7888;

    /* Semantic (contraste mejorado para legibilidad)
       Base ~3.5:1+ | Dark ~5.5:1+ | Light para fondos */
    --positive: #5B9E5B;
    --positive-light: #C4E8C4;
    --positive-dark: #3D7A3D;
    --negative: #C45858;
    --negative-light: #F2C4C4;
    --negative-dark: #A04040;
    --warning: #A08830;
    --warning-light: #F2E8C4;
    --warning-dark: #7A6820;

    /* Surfaces */
    --surface: #F0EBE3;
    --surface-elevated: #FAF8F5;

    /* Text (contraste mejorado)
       Primary ~8:1 | Secondary ~4.8:1 | Muted ~3.2:1 */
    --text-primary: #3D3832;
    --text-secondary: #6B645B;
    --text-muted: #8A837A;
    --text-inverse: #FAF8F5;

    /* Borders & Separators */
    --border: #E2DDD5;
    --border-focused: var(--primary);
    --separator: #D5D0C8;

    /* ═══════════════════════════════════════════════════════════
       SOMBRAS NEUMORFICAS
       ═══════════════════════════════════════════════════════════ */

    /* Elevado (convexo) - elemento que sobresale */
    --shadow-neu-sm:
      4px 4px 8px rgba(0, 0, 0, 0.08),
      -4px -4px 8px rgba(255, 255, 255, 0.9);

    --shadow-neu-md:
      6px 6px 12px rgba(0, 0, 0, 0.1),
      -6px -6px 12px rgba(255, 255, 255, 0.95);

    --shadow-neu-lg:
      10px 10px 20px rgba(0, 0, 0, 0.1),
      -10px -10px 20px rgba(255, 255, 255, 1);

    /* Hundido (concavo) - elemento que se hunde */
    --shadow-neu-inset:
      inset 4px 4px 8px rgba(0, 0, 0, 0.08),
      inset -4px -4px 8px rgba(255, 255, 255, 0.9);

    --shadow-neu-inset-sm:
      inset 2px 2px 4px rgba(0, 0, 0, 0.06),
      inset -2px -2px 4px rgba(255, 255, 255, 0.8);

    /* Presionado */
    --shadow-neu-pressed:
      inset 3px 3px 6px rgba(0, 0, 0, 0.1),
      inset -3px -3px 6px rgba(255, 255, 255, 0.7);

    /* Border radius neumorficos */
    --radius-sm: 12px;
    --radius-md: 16px;
    --radius-lg: 24px;
    --radius-xl: 32px;
    --radius-pill: 9999px;
  }

  html {
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
  }

  body {
    background-color: var(--background);
    color: var(--text-primary);
    overscroll-behavior-y: none;
    padding-bottom: var(--tab-bar-height);
  }

  /* Prevent iOS zoom on focus */
  input, select, textarea {
    font-size: 16px !important;
  }

  /* Disable highlight on tap */
  * {
    -webkit-tap-highlight-color: transparent;
  }

  /* Selection prevention on interactive elements */
  button, a, [role="button"] {
    -webkit-user-select: none;
    user-select: none;
  }
}

@layer components {
  /* ═══════════════════════════════════════════════════════════
     CARDS NEUMORFICAS
     ═══════════════════════════════════════════════════════════ */

  .card {
    @apply rounded-[20px] p-5;
    background: var(--background);
    box-shadow: var(--shadow-neu-md);
  }

  .card-sm {
    @apply rounded-[16px] p-4;
    background: var(--background);
    box-shadow: var(--shadow-neu-sm);
  }

  .card-inset {
    @apply rounded-[16px] p-4;
    background: var(--background);
    box-shadow: var(--shadow-neu-inset);
  }

  .card-flat {
    @apply rounded-[20px] p-5;
    background: var(--surface-elevated);
  }

  /* ═══════════════════════════════════════════════════════════
     BOTONES NEUMORFICOS
     ═══════════════════════════════════════════════════════════ */

  .btn-primary {
    @apply font-semibold py-3.5 px-8 rounded-full min-h-[50px] transition-all duration-150;
    background: linear-gradient(145deg, var(--primary), var(--primary-dark));
    color: var(--text-inverse);
    box-shadow: var(--shadow-neu-sm);
  }

  .btn-primary:active {
    box-shadow: var(--shadow-neu-pressed);
    transform: scale(0.98);
  }

  .btn-primary:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .btn-secondary {
    @apply font-semibold py-3.5 px-8 rounded-full min-h-[50px] transition-all duration-150;
    background: var(--background);
    color: var(--primary);
    box-shadow: var(--shadow-neu-sm);
  }

  .btn-secondary:active {
    box-shadow: var(--shadow-neu-pressed);
    transform: scale(0.98);
  }

  .btn-secondary:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .btn-pill {
    @apply font-medium py-2.5 px-5 rounded-full transition-all duration-150;
    background: var(--background);
    box-shadow: var(--shadow-neu-sm);
    color: var(--text-primary);
  }

  .btn-pill:active {
    box-shadow: var(--shadow-neu-pressed);
  }

  .btn-pill-active {
    @apply font-medium py-2.5 px-5 rounded-full;
    background: linear-gradient(145deg, var(--primary), var(--primary-dark));
    color: var(--text-inverse);
    box-shadow: var(--shadow-neu-sm);
  }

  /* ═══════════════════════════════════════════════════════════
     INPUTS NEUMORFICOS
     ═══════════════════════════════════════════════════════════ */

  .input {
    @apply rounded-[16px] px-5 py-3.5 min-h-[48px] w-full transition-all duration-150;
    background: var(--background);
    color: var(--text-primary);
    box-shadow: var(--shadow-neu-inset-sm);
    border: none;
  }

  .input:focus {
    outline: 2px solid var(--primary-light);
    outline-offset: 2px;
  }

  .input::placeholder {
    color: var(--text-muted);
  }

  /* ═══════════════════════════════════════════════════════════
     SEPARADORES
     ═══════════════════════════════════════════════════════════ */

  .separator {
    @apply h-px mx-4;
    background: var(--separator);
  }

  /* ═══════════════════════════════════════════════════════════
     ELEMENTOS NEUMORFICOS ADICIONALES
     ═══════════════════════════════════════════════════════════ */

  .neu-circle {
    @apply rounded-full flex items-center justify-center;
    background: var(--background);
    box-shadow: var(--shadow-neu-sm);
  }

  .neu-circle-inset {
    @apply rounded-full flex items-center justify-center;
    background: var(--background);
    box-shadow: var(--shadow-neu-inset-sm);
  }

  .neu-pill {
    @apply rounded-full px-4 py-2;
    background: var(--background);
    box-shadow: var(--shadow-neu-sm);
  }

  .neu-toggle {
    @apply rounded-full transition-all duration-200;
    background: var(--background);
    box-shadow: var(--shadow-neu-inset-sm);
  }

  .neu-toggle-active {
    background: linear-gradient(145deg, var(--positive), var(--positive-dark));
    box-shadow: var(--shadow-neu-sm);
  }

  /* ═══════════════════════════════════════════════════════════
     TYPOGRAPHY
     ═══════════════════════════════════════════════════════════ */

  .text-display-lg { @apply text-[34px] font-bold leading-tight; }
  .text-display-md { @apply text-[28px] font-bold leading-tight; }
  .text-display-sm { @apply text-[24px] font-semibold leading-tight; }

  .text-headline-lg { @apply text-[22px] font-semibold leading-snug; }
  .text-headline-md { @apply text-[20px] font-semibold leading-snug; }
  .text-headline-sm { @apply text-[17px] font-semibold leading-snug; }

  .text-body-lg { @apply text-[17px] font-normal leading-relaxed; }
  .text-body-md { @apply text-[15px] font-normal leading-relaxed; }
  .text-body-sm { @apply text-[13px] font-normal leading-normal; }

  .text-label-lg { @apply text-[15px] font-medium leading-snug; }
  .text-label-md { @apply text-[13px] font-medium leading-snug; }
  .text-label-sm { @apply text-[11px] font-medium leading-tight tracking-wide; }
}
